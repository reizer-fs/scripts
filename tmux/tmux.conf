#------------------------------------------------------------------------------
#   DEFAULT CONFIGURATION
#------------------------------------------------------------------------------
# Set xterm
#set -g default-terminal "screen-256color"
set -g default-terminal "dtterm"
#set -g default-terminal "xterm-256"
setw -g xterm-keys on
set-option -g default-shell /bin/bash
 
# UTF-8
setw -g utf8 on
set -g status-utf8 on
set-option -ga terminal-overrides ',*:enacs@:smacs@:rmacs@:acsc@'

# loud or quiet?
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity on
set-option -g bell-action none

# numeracja tabow od 1 a nie od 0
set -g base-index 1
 
# Mode-keys style for copy mode
set -g status-keys vi
setw -g mode-keys vi
set -sg escape-time 0
 
# windows starts at 1
set -g base-index 1
 
# display messages for a second
set -g display-time 1000
 
# prevent tmux to rename windows
set -g set-titles off
set-option -g allow-rename off
set-option -g set-titles-string '#T #P #I.#P'
 
# Number of lines held in window history
set -g history-limit 50000
 
# Empeche la fermeture des fenetres lors du logout ssh
set-option -g remain-on-exit on
 
#------------------------------------------------------------------------------
#   SHORTCUT
#------------------------------------------------------------------------------
# remap prefix from 'C-b' to 'C-a'
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix
 
# reload .tmux.conf file
unbind r
bind r source-file /etc/tmux.d/tmux.conf \; display "Configuration reloaded."
 
unbind -n f1
unbind -n f2
unbind -n f3
unbind -n f4
unbind -n f5
unbind -n f6
unbind -n f7
unbind -n f8
unbind -n f9
unbind -n f10
unbind -n f11
unbind -n f12
unbind h
unbind n
unbind u
unbind y
unbind +
unbind =
bind m command-prompt "select-window -t '%%'"
bind n new-window
bind -n f1 previous-window
bind -n f2 next-window
bind -n f3 respawn-pane
bind -n f5 next-layout
bind -n f6 rotate-window
bind -n f7 detach-client
bind -n f8 command-prompt -p "ssh : " "new-window -n %1 'ssh -i ~/.ssh/FFA.ppk -A -q %1'"
bind -n f9 kill-pane

bind , command-prompt -p "(rename-window '#W')" "rename-window '%%'"
bind '$' command-prompt -p "(rename-session '#S')" "rename-session '%%'"
bind S set synchronize-panes
bind C-b copy-mode -u
bind b copy-mode
unbind -n f
 
# ctrl+left/right cycles thru windows
# alt+directions navigates through panes
bind-key -n M-left select-pane -L
bind-key -n M-right select-pane -R
bind-key -n M-up select-pane -U
bind-key -n M-down select-pane -D
 
# split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

unbind !
bind ! command-prompt -p "ssh: " "split-window -h 'ssh -i ~/.ssh/FFA.ppk -A -q %1'"
unbind /
bind / command-prompt -p "ssh: " "split-window -v 'ssh -i -i ~/.ssh/FFA.ppk -A -q %1'"

#MOJE
bind D source-file ~/.tmux/dev
set -g status-keys vi
set -g status-interval 1
set -s escape-time 50
set -g terminal-overrides 'xterm*:smcup@:rmcup@'
set -ga terminal-override ',rxvt-uni*:XT:Ms=\E]52;%p1%s;%p2%s\007'
#set-option -ga terminal-overrides ',*:enacs@:smacs@:rmacs@:acsc@'
 
run-shell ~/.tmux/tmux-logging-master/logging.tmux
#run-shell /root/MRO/tmux-open-master/open.tmux
#run-shell /root/MRO/tmux-yank-master/yank.tmux
#run-shell /root/MRO/tmux-copycat-master/copycat.tmux

######################
### DESIGN CHANGES ###
######################

# The modes 
setw -g clock-mode-colour colour135
setw -g mode-attr bold
setw -g mode-fg colour196
setw -g mode-bg colour238

# The panes

set -g pane-border-bg colour235
set -g pane-border-fg colour238
set -g pane-active-border-bg colour236
set -g pane-active-border-fg colour51

# The statusbar 

set -g status-position bottom
set -g status-bg colour234
set -g status-fg colour137
set -g status-attr dim
set -g status-left ''
set -g status-right '#[fg=colour233,bg=colour241,bold] %d/%m #[fg=colour233,bg=colour245,bold] %H:%M:%S '
set -g status-right-length 50
set -g status-left-length 20

setw -g window-status-current-fg colour81
setw -g window-status-current-bg colour238
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F '

setw -g window-status-fg colour138
setw -g window-status-bg colour235
setw -g window-status-attr none
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

setw -g window-status-bell-attr bold
setw -g window-status-bell-fg colour255
setw -g window-status-bell-bg colour1

# The messages 

set -g message-attr bold
set -g message-fg colour232
set -g message-bg colour166
